# Module Map (Alpha Hunter)

| Module/File                               | Main classes/functions                                                                  | Purpose                                                                                                    | Inputs                                                            | Outputs                                                                                                  | Called by                                      | Depends on                                                                                      | Notes                                                                 |
| ----------------------------------------- | --------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- | ---------------------------------------------- | ----------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- |
| main.py                                   | run_hunter                                                                              | Онлайн-хантер цикл (scanner, monitors, sleep)                                                              | config.yaml, Binance REST                                         | Telegram alerts                                                                                          | manager.py                                     | alpha_hunter.scanner, whale_monitor, stablecoin_inflow_monitor, nansen_monitor, telegram_alerts | Ctrl+C graceful                                                       |
| manager.py                                | run_menu                                                                                | CLI меню (online hunter / offline profiler)                                                                | user input                                                        | calls main.py or alpha_profiler                                                                          | user                                           | logging                                                                                         | —                                                                     |
| alpha_profiler.py                         | run_profiler_menu                                                                       | CLI оффлайн: 1) памп из config 2) все пампы 3) clusters 4) actors/watchlist 5) UI 6) PnL [-3d,+2h] 7) exit | config.yaml, profiles                                             | profiles/actors/watchlist/pnl files                                                                      | manager.py                                     | profiler_core, actors_builder, pnl_tracer, watchlist_ui                                         | PWL_LIMIT env for debug                                               |
| alpha_hunter/logger.py                    | get_logger                                                                              | Консольный логгер                                                                                          | —                                                                 | logging.Logger                                                                                           | все                                            | logging                                                                                         | —                                                                     |
| alpha_hunter/scanner.py                   | AlphaScanner.scan_once, \_build_mm_context_block                                        | Binance 1m сигналы, алерты с Nansen/Futures/MM контекстом                                                  | Binance 24h tickers, klines, config scanner/signals, alpha_tokens | Telegram messages                                                                                        | main.py                                        | binance_client, binance_futures_client, telegram_alerts, price_client, nansen_client            | cooldown, filters, MM block from clusters/timeline not yet linked     |
| alpha_hunter/binance_client.py            | BinanceClient.get_24h_tickers/get_recent_klines/get_ticker_price                        | Публичные REST Binance spot                                                                                | HTTP                                                              | dict/list tickers                                                                                        | scanner.py, price_client                       | requests                                                                                        | no keys                                                               |
| alpha_hunter/binance_futures_client.py    | get_open_interest/get_premium_index/get_futures_snapshot                                | Futures OI/funding                                                                                         | HTTP                                                              | dict                                                                                                     | scanner.py                                     | requests                                                                                        | —                                                                     |
| alpha_hunter/price_client.py              | PriceClient.get_price_usd                                                               | Комбинированные цены Binance→DexScreener→(DeBank удалён)                                                   | symbol/contract/chain                                             | float or None                                                                                            | profiler_core, pnl_tracer (legacy)             | binance_client, requests                                                                        | —                                                                     |
| alpha_hunter/explorer_client.py           | ExplorerClient.get_recent_token_transfers (V2)                                          | Etherscan V2 tokentx                                                                                       | chain/address                                                     | list tx                                                                                                  | stablecoin_inflow_monitor, pnl_tracer fallback | requests                                                                                        | V2 only, bscscan uses direct API in pnl_tracer                        |
| alpha_hunter/bsc_rpc_client.py            | BscRpcClient.get_erc20_transfers/find_block_by_timestamp                                | RPC eth_getLogs + бинарный поиск блока                                                                     | RPC URL                                                           | list logs                                                                                                | (legacy profiler_core for BSC before BirdEye)  | requests/jsonrpc                                                                                | not used in new PnL                                                   |
| alpha_hunter/birdeye_client.py            | BirdEyeClient.fetch_for_window, BirdEyeKeyManager                                       | BirdEye swap tx, ротация ключей/прокси, page-cache                                                         | token address, window                                             | list items                                                                                               | profiler_core (BirdEye profiler)               | requests, yaml                                                                                  | cache stats собраны, но не в итоговые файлы                           |
| alpha_hunter/actors_builder.py            | build_clusters/build_actors_and_watchlist                                               | Из профилей строит clusters.json, actors.json, watchlist.json                                              | \*\_profile.json                                                  | clusters/actors/watchlist                                                                                | alpha_profiler пункт 3/4                       | yaml/json                                                                                       | roles не ставит, max_pamper_score добавлен в watchlist                |
| alpha_hunter/profiler_core.py             | analyze_single_pump, build_clusters                                                     | BirdEye профайлер пампов                                                                                   | config pumps, BirdEye tx                                          | \*\_profile.json                                                                                         | alpha_profiler пункт 1/2                       | birdeye_client, price_client, logger                                                            | BSC через BirdEye, другие сети — Explorer fallback                    |
| pnl_tracer.py                             | recompute_watchlist_pnl, load_pump_profiles, \_build_timeline/overlap/network           | PnL [-3d,+2h] через Covalent buckets; артефакты timeline/overlap/network/warehouse; роли/бейджи/кандидаты  | actors/watchlist/profiles, covalent API, cache_tx                 | pnl_watchlist.json, timeline_watchlist.json, holdings_overlap.json, network_watchlist.json, warehouse/\* | alpha_profiler пункт 6                         | covalent_client, actors_builder, price_client, json                                             | cache_meta частично, BirdEye cache не учитывается                     |
| alpha_hunter/covalent_client.py           | CovalentClient.iter_transactions_window/get_time_bucket_transactions/get_token_balances | GoldRush buckets с rate-limit/backoff, bucket-cache                                                        | chain/address/window                                              | list tx, diag                                                                                            | pnl_tracer                                     | requests                                                                                        | cache dir data/raw_cache/covalent                                     |
| alpha_hunter/nansen_client.py             | NansenClient.post + smart_money wrappers                                                | Nansen API                                                                                                 | config/api_key                                                    | dict                                                                                                     | scanner, profiler_core                         | requests                                                                                        | —                                                                     |
| alpha_hunter/nansen_monitor.py            | NansenSmartMoneyMonitor.run_once                                                        | token_screener smart-money сигналы                                                                         | config alpha_tokens/nansen                                        | Telegram alerts                                                                                          | main.py                                        | nansen_client, telegram_alerts                                                                  | —                                                                     |
| alpha_hunter/stablecoin_inflow_monitor.py | StablecoinInflowMonitor.run_once                                                        | Монитор inflow стейблов по explorers                                                                       | config stablecoin_inflow/explorers                                | Telegram alerts                                                                                          | main.py                                        | explorer_client                                                                                 | —                                                                     |
| alpha_hunter/whale_monitor.py             | WhaleMonitor.run_once                                                                   | DeBank actions per wallet                                                                                  | config debank/whales                                              | Telegram alerts                                                                                          | main.py                                        | requests                                                                                        | DeBank key needed                                                     |
| alpha_hunter/telegram_alerts.py           | TelegramNotifier.send_message                                                           | Telegram бот sendMessage                                                                                   | bot_token/chat_id                                                 | bool                                                                                                     | scanner, monitors                              | requests                                                                                        | —                                                                     |
| alpha_hunter/watchlist_ui.py              | run_watchlist_ui (Flask)                                                                | UI + API (/actors,/watchlist,/timeline,/overlap,/network,/cache_meta)                                      | files in data/alpha_profiler                                      | HTML UI in browser                                                                                       | alpha_profiler пункт 5                         | flask, json                                                                                     | роли/бейджи показываются, cache_meta из pnl_watchlist только covalent |
| test_keys.py                              | check\_\* functions                                                                     | Проверка API ключей explorers/Nansen                                                                       | config.yaml                                                       | console output                                                                                           | user                                           | requests                                                                                        | V2 usage might be outdated                                            |
| test_bsc_rpc_span.py                      | test_span                                                                               | Тест лимита eth_getLogs                                                                                    | config.yaml bsc_rpc.url                                           | console                                                                                                  | user                                           | requests                                                                                        | —                                                                     |
| test_nodereal_usage.py                    | main                                                                                    | Тест RPC запросов по окну 4.5h                                                                             | config.yaml bsc_rpc.url                                           | console                                                                                                  | user                                           | bsc_rpc_client                                                                                  | —                                                                     |
